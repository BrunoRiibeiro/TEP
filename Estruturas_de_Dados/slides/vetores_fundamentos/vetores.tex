\section{Vetores em C/C++}

\begin{frame}[fragile]{Características dos vetores}

	\begin{itemize}
		\item Os vetores (\textit{arrays}) tem suporte nativo na maioria das linguagens de 
        programação

		\item Em geral, a capacidade (número de elementos) do vetor tem que ser conhecida em tempo de compilação

		\item Os elementos do vetor são armazenados em memória de forma contígua (linear)

		\item O acesso aleatório é imediato: qualquer posição do vetor pode ser lida ou escrita
		em $O(1)$

		\item Porém a inserção e remoção aleatória é lenta: os elementos tem que ser transpostos no         momento da inserção/remoção (complexidade $O(N)$)
	\end{itemize}

\end{frame} 

\begin{frame}[fragile]{Declaração estática de vetores}

    \metroset{block=fill}
    \begin{block}{Sintaxe para declaração de vetores}
        \inputsyntax{c}{codes/vec.st}
    \end{block}

	\begin{itemize}
		\item Na sintaxe acima, $N$ é o número de elementos do vetor

		\item Os vetores armazenam elementos do mesmo tipo que foi especificado em sua declaração

        \item O primeiro elemento do vetor tem índice 0 (zero) e o último tem índice $N - 1$

        \item Um erro comum é usar tentar acessar o elemento de índice $N$ (\textit{off-by-one})
	\end{itemize}

    \metroset{block=fill}
    \begin{block}{Sintaxe para acesso do $i$-ésimo elemento}
        \inputsyntax{c}{codes/acess.st}
    \end{block}


\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores}
    \inputsnippet{c}{1}{20}{codes/forca.c}
\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores}
    \inputsnippet{c}{21}{39}{codes/forca.c}
\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores}
    \inputsnippet{c}{41}{58}{codes/forca.c}
\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores}
    \inputsnippet{c}{60}{79}{codes/forca.c}
\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores}
    \inputsnippet{c}{81}{100}{codes/forca.c}
\end{frame}

\begin{frame}[fragile]{Declaração de vetores dinâmicos}

	\begin{itemize}
		\item Também é possível alocar um vetor dinamicamente, 
        postergando o conhecimento da sua capacidade para o momento da execução do programa

		\item Em linguagem C, um vetor pode ser alocado dinamicamente 
		de {duas} maneiras:
		    \inputsyntax{c}{codes/ex_vec.st}

		\item Em linguagem C++, um vetor pode ser alocado através do 
		operador \code{c++}{new}:
		    \inputsyntax{c++}{codes/ex2_vec.st}

		\item A memória alocada para o vetor em C deve ser liberada através da função 
        \code{c++}{free()}

		\item Já em C++ deve ser usado o operador \code{c++}{delete []}
		
	\end{itemize}

\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores dinâmicos}
    \inputsnippet{cpp}{1}{20}{codes/megasena.cpp}
\end{frame}

\begin{frame}[fragile]{Exemplo de uso de vetores dinâmicos}
    \inputsnippet{cpp}{22}{42}{codes/megasena.cpp}
\end{frame}

\begin{frame}

	\frametitle{Capacidade de um vetor}

	\begin{itemize}

		\item Um vetor, seja alocado estaticamente, seja alocado 
		dinamicamente, {não guarda} em si informações sobre sua capacidade

		\item Como consequência da afirmação anterior, ao passar um 
		vetor como parâmetro de uma função é necessário ou 
		{informar} a capacidade ou {definir} um elemento delimitador (sentinela)

		\item Uma forma de evitar este problema é criar um 
		{novo tipo de dado} que armazene os elementos do vetor e seu tamanho

        \item Importante notar que, no caso de vetores (\textit{arrays}), o tamanho físico
        (capacidade, número máximo de elementos que ele comporta) coincide com o tamanho lógico
        (tamanho, número de elementos efetivamente preenchidos)

        \item Esta superposição de conceitos pode gerar problemas de interpretação (por exemplo,
            ler um elemento que não deveria ser considerado) e alinhamento de memória (pois as
            alocações precisam indicar a quantidade exata a ser usada)
	\end{itemize}

\end{frame}

\begin{frame}[fragile]{Exemplo de uma estrutura para vetores}
    \inputcode{c}{codes/float_vector.h}
\end{frame}

\begin{frame}[fragile]{Exemplo de uma estrutura para vetores}
    \inputcode{c}{codes/float_vector.c}
\end{frame}

\begin{frame}[fragile]{Exemplo de uma estrutura para vetores}
    \inputsnippet{c}{1}{19}{codes/test_float_vector.c}
\end{frame}

\begin{frame}[fragile]{Exemplo de uma estrutura para vetores}
    \inputsnippet{c}{21}{40}{codes/test_float_vector.c}
\end{frame}
