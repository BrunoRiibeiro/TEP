%\section{SPOJ SUBSUMS -- Subset Sums}

\begin{frame}[fragile]{Problema}

Given a sequence of $N$ ($1\leq N\leq 34$) numbers $S_1, \ldots, S_N$ 
($-20,000,000\leq S_i\leq 20,000,000$), determine how many subsets of $S$ (including the empty 
one) have a sum between $A$ and $B$ ($-500,000,000\leq A\leq B\leq 500,000,000$), inclusive.

\end{frame}

\begin{frame}[fragile]{Entrada e saída}

\textbf{Input}

The first line of standard input contains the three integers $N, A,$ and $B$. The following $N$
lines contain $S_1$ through $S_N$, in order.

\vspace{0.2in}

\textbf{Output}

Print a single integer to standard output representing the number of subsets satisfying the above property. Note that the answer may overflow a 32-bit integer.

\end{frame}

\begin{frame}[fragile]{Exemplo de entradas e saídas}

\begin{minipage}[t]{0.45\textwidth}
\textbf{Sample Input}
\begin{verbatim}
3 -1 2
1
-2
3
\end{verbatim}
\end{minipage}
\begin{minipage}[t]{0.5\textwidth}
\textbf{Sample Output}
\begin{verbatim}
5
\end{verbatim}
\end{minipage}
\end{frame}

\begin{frame}[fragile]{Solução $O(2^{N/2}\log N)$}

    \begin{itemize}
        \item No pior caso, há $2^{34}$ subconjuntos a serem avaliados, de modo que uma solução
            que olhe todos eles individualmente resultará em um TLE

        \item A técnica do encontro no meio pode ser usada para dividir a entrada em dois
            grupos de aproximadamente $N/2$ elementos

        \item Para cada um destes grupos, é preciso computar as somas dos elementos de seus
            subconjuntos (listas $S_1$ e $S_2$, respectivamente)

        \item Para cada elemento $s\in S_1$, é preciso identificar todos os elementos $r\in S_2$
            tais que $A\leq s + r\leq B$

        \item Se $S_2$ estiver ordenado, este intervalo de valores pode ser computado por meio
            de duas buscas binárias, ou através das funções \code{cpp}{lower_bound} e
            \code{cpp}{upper_bound} da STL do C++

    \end{itemize}

\end{frame}

\begin{frame}[fragile]{Solução $O(2^{N/2}\log N)$}
    \inputsnippet{cpp}{1}{20}{codes/SPOJ_SUBSUMS.cpp}
\end{frame}

\begin{frame}[fragile]{Solução $O(2^{N/2}\log N)$}
    \inputsnippet{cpp}{22}{40}{codes/SPOJ_SUBSUMS.cpp}
\end{frame}

\begin{frame}[fragile]{Solução $O(2^{N/2}\log N)$}
    \inputsnippet{cpp}{42}{57}{codes/SPOJ_SUBSUMS.cpp}
\end{frame}

